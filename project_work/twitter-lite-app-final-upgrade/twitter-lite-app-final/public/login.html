
<!doctype html><html><head><meta charset="utf-8"><title>Login</title><link rel="stylesheet" href="/styles.css"></head><body>
<div class="form">
  <div class="card form-card">
    <h2 style="margin-top:0">Login</h2>
    <form id="loginForm">
      <input id="username" class="input" placeholder="Username" required>
      <input id="password" class="input" type="password" placeholder="Password" required>
      <button class="button" type="submit">Login</button>
    </form>
    <p class="small">Don't have an account? <a class="link" href="/register.html">Register</a></p>
  </div>
</div>
<script>
document.getElementById('loginForm').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const u = document.getElementById('username').value;
  const p = document.getElementById('password').value;
  try{
    const res = await fetch('/api/login', {method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({username:u,password:p})});
    const data = await res.json();
    if(!res.ok){ alert(data.message||'Login failed'); return; }
    if(data.token) localStorage.setItem('token', data.token);
    window.location.href = '/';
  }catch(e){ alert('Error'); }
});
</script>
</body></html>
